/*! For license information please see index.js.LICENSE.txt */
(()=>{"use strict";var e={20:(e,t,n)=>{var s=n(594),a=Symbol.for("react.element"),i=(Symbol.for("react.fragment"),Object.prototype.hasOwnProperty),r=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var s,l={},c=null,d=null;for(s in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)i.call(t,s)&&!o.hasOwnProperty(s)&&(l[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps)void 0===l[s]&&(l[s]=t[s]);return{$$typeof:a,type:e,key:c,ref:d,props:l,_owner:r.current}}t.jsx=l,t.jsxs=l},594:e=>{e.exports=React},848:(e,t,n)=>{e.exports=n(20)}},t={};function n(s){var a=t[s];if(void 0!==a)return a.exports;var i=t[s]={exports:{}};return e[s](i,i.exports,n),i.exports}n(594);const s=wp.element;var a=n(848);const i=({paymentStatus:e,eventRegistration:t,emitResponse:n,billing:i})=>{const{isPristine:r,isStarted:o,isProcessing:l,isFinished:c,hasError:d,hasFailed:p,isSuccessful:f}=e,{cartTotal:m,currency:y}=i,h=(0,s.useRef)(null),u=(0,s.useRef)(null),{onPaymentSetup:v}=t;return(0,s.useEffect)((()=>{if(!window.shift4Initialised){const e=()=>{"function"==typeof initShift4&&(initShift4({paymentMethodDataRef:u}),window.shift4Initialised=!0,window.shift4UpdatedCheckout())};window.shift4JsLoaded?e():document.addEventListener("shift4JsLoaded",e)}const e=v((async()=>(console.log("onPaymentSetup"),console.log("cartTotal",m),console.log("currency",y),await window.shift4PaymentFormSubmit({amount:m.value,currency:y.code}),console.log("paymentMethodDataRef.current:"+u.current),{type:n.responseTypes.SUCCESS,meta:{paymentMethodData:{...u.current}}})));return()=>{e()}}),[n.responseTypes.ERROR,n.responseTypes.SUCCESS,v]),(0,a.jsxs)("div",{id:"shift4-payment-form",ref:h,"data-amount":m,"data-currency":y,children:[(0,a.jsxs)("div",{className:"shift4-payment-field",children:[(0,a.jsx)("label",{className:"shift4-payment-number-label",children:"Card number"}),(0,a.jsx)("div",{className:"shift4-payment-input shift4-payment-number-input","data-shift4":"number"})]}),(0,a.jsxs)("div",{className:"shift4-payment-fields",children:[(0,a.jsxs)("div",{className:"shift4-payment-field",children:[(0,a.jsx)("label",{className:"shift4-payment-expiry-label",children:"Expiration"}),(0,a.jsx)("div",{className:"shift4-payment-input shift4-payment-expiry-input","data-shift4":"expiry"})]}),(0,a.jsxs)("div",{className:"shift4-payment-field",children:[(0,a.jsx)("label",{className:"shift4-payment-cvv-label",children:"Cvv"}),(0,a.jsx)("div",{className:"shift4-payment-input shift4-payment-cvv-input","data-shift4":"cvc"})]})]}),(0,a.jsx)("input",{type:"hidden",name:"shift4_card_token",id:"shift4_card_token"})]})},{registerPaymentMethod:r}=window.wc.wcBlocksRegistry,{registerExpressPaymentMethod:o}=window.wc.wcBlocksRegistry,{createElement:l}=window.wp.element;o({name:"shift4_applepay",label:"Apple Pay (Shift4)",content:l("p",null,"Apple Pay (Shift4)"),edit:l("p",null,""),canMakePayment:()=>!0}),r({name:"shift4_card",label:"Credit Card (Shift4)",content:(0,a.jsx)(i,{}),edit:l("p",null,""),savedTokenComponent:l("p",null,"simple savedTokenComponent"),canMakePayment:()=>!0,ariaLabel:"Shift4 Credit Card payment method"})})();