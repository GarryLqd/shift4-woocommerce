/*! For license information please see index.js.LICENSE.txt */
(()=>{"use strict";var e={20:(e,t,n)=>{var i=n(594),s=Symbol.for("react.element"),a=(Symbol.for("react.fragment"),Object.prototype.hasOwnProperty),o=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,r={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var i,l={},c=null,d=null;for(i in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)a.call(t,i)&&!r.hasOwnProperty(i)&&(l[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps)void 0===l[i]&&(l[i]=t[i]);return{$$typeof:s,type:e,key:c,ref:d,props:l,_owner:o.current}}t.jsx=l,t.jsxs=l},594:e=>{e.exports=React},848:(e,t,n)=>{e.exports=n(20)}},t={};function n(i){var s=t[i];if(void 0!==s)return s.exports;var a=t[i]={exports:{}};return e[i](a,a.exports,n),a.exports}n(594);const i=wp.element;var s=n(848);const a=({paymentStatus:e})=>{const{isPristine:t,isStarted:n,isProcessing:a,isFinished:o,hasError:r,hasFailed:l,isSuccessful:c}=e,d=(0,i.useRef)(null);let f,p;return(0,i.useEffect)((()=>{if(console.log("useEffect"),!window.shift4Initialised){console.log("window.shift4Config: "+window.shift4Config),p=window.Shift4(window.shift4Config.publicKey);try{f=p.createComponentGroup().automount("#shift4-payment-form")}catch(e){console.error("Error mounting Shift4 components:",e)}const e=()=>{"function"==typeof initShift4&&(initShift4(),window.shift4Initialised=!0)};window.shift4JsLoaded?e():document.addEventListener("shift4JsLoaded",e)}a&&(console.log(p),p.createToken(f).then(tokenCreatedCallback).catch(errorCallback)),console.log("paymentStatus: "+e),console.log("isPristine: "+t),console.log("isStarted: "+n),console.log("isProcessing: "+a),console.log("hasError: "+r)}),[t,n,a,r]),(0,s.jsxs)("div",{id:"shift4-payment-form",ref:d,"data-amount":window.shift4Amount,"data-currency":window.shift4Currency,children:[(0,s.jsxs)("div",{className:"shift4-payment-field",children:[(0,s.jsx)("label",{className:"shift4-payment-number-label",children:"Card number"}),(0,s.jsx)("div",{className:"shift4-payment-input shift4-payment-number-input","data-shift4":"number"})]}),(0,s.jsxs)("div",{className:"shift4-payment-fields",children:[(0,s.jsxs)("div",{className:"shift4-payment-field",children:[(0,s.jsx)("label",{className:"shift4-payment-expiry-label",children:"Expiration"}),(0,s.jsx)("div",{className:"shift4-payment-input shift4-payment-expiry-input","data-shift4":"expiry"})]}),(0,s.jsxs)("div",{className:"shift4-payment-field",children:[(0,s.jsx)("label",{className:"shift4-payment-cvv-label",children:"Cvv"}),(0,s.jsx)("div",{className:"shift4-payment-input shift4-payment-cvv-input","data-shift4":"cvc"})]})]}),(0,s.jsx)("input",{type:"hidden",name:"shift4_card_token",id:"shift4_card_token"})]})},{registerPaymentMethod:o}=window.wc.wcBlocksRegistry,{registerExpressPaymentMethod:r}=window.wc.wcBlocksRegistry,{createElement:l}=window.wp.element;r({name:"shift4_applepay",label:"Apple Pay (Shift4)",content:l("p",null,"Apple Pay (Shift4)"),edit:l("p",null,""),canMakePayment:()=>!0}),o({name:"shift4_card",label:"Credit Card (Shift4)",content:(0,s.jsx)(a,{}),edit:l("p",null,""),savedTokenComponent:l("p",null,"simple savedTokenComponent"),canMakePayment:()=>!0,ariaLabel:"Shift4 Credit Card payment method",onSubmit:e=>{console.log("onSubmit: "+e)}})})();